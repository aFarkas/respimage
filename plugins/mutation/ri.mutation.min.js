/*! respimg - v1.0.1 - 2014-10-02
 Licensed MIT */
!function(a){"use strict";var b;if(window.respimg&&(b=a(window.respimg),a=function(){return b}),"function"==typeof define&&define.amd)require(["respimg"],a);else if("object"==typeof module&&"object"==typeof exports)module.exports=a(require("respimg"));else if(!window.respimg)throw"you need to include respimg"}(function(a){"use strict";var b=window.document,c=window.Element,d=window.MutationObserver,e=function(){},f={disconnect:e,take:e,observe:e,start:e,stop:e,connected:!1},g=/^loade|^c|^i/.test(b.readyState||""),h=a._;if(h.mutationSupport=!1,h.observer=f,!Object.keys||!window.HTMLSourceElement||!b.addEventListener)return f;var i,j,k,l,m={src:1,srcset:1,sizes:1,media:1},n=Object.keys(m),o={attributes:!0,childList:!0,subtree:!0,attributeFilter:n},p=c&&c.prototype,q={},r=function(a,b){q[a]=h[a],h[a]=b};return p&&!p.matches&&(p.matches=p.matchesSelector||p.mozMatchesSelector||p.webkitMatchesSelector||p.msMatchesSelector),p&&p.matches&&(i=function(a,b){return a.matches(b)},h.mutationSupport=!(!Object.create||!Object.defineProperties)),h.mutationSupport?(f.observe=function(){k&&(f.connected=!0,j&&j.observe(b.body||b.documentElement,o))},f.disconnect=function(){f.connected=!1,j&&j.disconnect()},f.take=function(){j?h.onMutations(j.takeRecords()):l&&l.take()},f.start=function(){k=!0,f.observe()},f.stop=function(){k=!1,f.disconnect()},r("setupRun",function(){return f.disconnect(),q.setupRun.apply(this,arguments)}),r("teardownRun",function(){var a=q.setupRun.apply(this,arguments);return f.observe(),a}),r("setSrc",function(){var a,b=f.connected;return f.disconnect(),a=q.setSrc.apply(this,arguments),b&&f.observe(),a}),r("addSize",function(){var a,b=f.connected;return f.disconnect(),a=q.addSize.apply(this,arguments),b&&f.observe(),a}),h.onMutations=function(a){var b,c,d=[];for(b=0,c=a.length;c>b;b++)g&&"childList"===a[b].type?h.onSubtreeChange(a[b],d):"attributes"===a[b].type&&h.onAttrChange(a[b],d);d.length&&h.fillImgs({elements:d,reparse:!0,reevaluate:!0})},h.onSubtreeChange=function(a,b){h.findAddedMutations(a.addedNodes,b),h.findRemovedMutations(a.removedNodes,a.target,b)},h.findAddedMutations=function(a,b){var c,d,e,f;for(c=0,d=a.length;d>c;c++)e=a[c],1===e.nodeType&&(f=e.nodeName.toUpperCase(),"PICTURE"===f?h.addToElements(e.getElementsByTagName("img")[0],b):"IMG"===f&&i(e,h.selShort)?h.addToElements(e,b):"SOURCE"===f?h.addImgForSource(e,e.parentNode,b):h.addToElements(h.qsa(e,h.selShort),b))},h.findRemovedMutations=function(a,b,c){var d,e,f;for(d=0,e=a.length;e>d;d++)f=a[d],1===f.nodeType&&"SOURCE"===f.nodeName.toUpperCase()&&h.addImgForSource(f,b,c)},h.addImgForSource=function(a,b,c){b&&"PICTURE"!==(b.nodeName||"").toUpperCase()&&(b=b.parentNode),b&&"PICTURE"===(b.nodeName||"").toUpperCase()&&h.addToElements(b.getElementsByTagName("img")[0],c)},h.addToElements=function(a,b){var c,d;if(a)if("length"in a&&!a.nodeType)for(c=0,d=a.length;d>c;c++)h.addToElements(a[c],b);else a.parentNode&&-1===b.indexOf(a)&&b.push(a)},h.onAttrChange=function(a,b){var c,d=a.target[h.ns];d||"srcset"!==a.attributeName||"IMG"!==a.target.nodeName.toUpperCase()?d&&(c=a.target.nodeName.toUpperCase(),"IMG"===c?(a.attributeName in d&&(d[a.attributeName]=void 0,("src"===a.attributeName||h.supSrcset&&"srcset"===a.attributeName)&&(d.curCan=null,d.curSrc=void 0)),h.addToElements(a.target,b)):"SOURCE"===c&&h.addImgForSource(a.target,a.target.parentNode,b)):h.addToElements(a.target,b)},window.HTMLPictureElement||(d&&!h.testMutationEvents?j=new d(h.onMutations):(l=function(){var a=!1,b=[],c=window.setImmediate||window.setTimeout;return function(d){a||(a=!0,l.take||(l.take=function(){b.length&&(h.onMutations(b),b=[]),a=!1}),c(l.take)),b.push(d)}}(),(b.body||b.documentElement).addEventListener("DOMNodeInserted",function(a){f.connected&&g&&l({type:"childList",addedNodes:[a.target],removedNodes:[]})},!0),(b.body||b.documentElement).addEventListener("DOMNodeRemoved",function(a){f.connected&&g&&l({type:"childList",addedNodes:[],removedNodes:[a.target]})},!0),(b.body||b.documentElement).addEventListener("DOMAttrModified",function(a){f.connected&&l({type:"attributes",target:a.target,attributeName:a.attrName})},!0)),window.HTMLImageElement&&Object.defineProperties&&!function(){var a=b.createElement("img"),c=a.getAttribute,d={src:1};h.supSrcset&&!h.supSizes&&(d.srcset=1),Object.defineProperties(window.HTMLImageElement.prototype,{getAttribute:{value:function(a){var b;return d[a]&&(b=this[h.ns])&&void 0!==b[a]?b[a]:c.apply(this,arguments)},writeable:!0,enumerable:!0,configurable:!0}})}(),f.start()),g||b.addEventListener("DOMContentLoaded",function(){g=!0}),f):f});